{"last_node_id":81,"last_link_id":48,"nodes":[{"id":3,"type":"KSampler","pos":{"0":2675,"1":130},"size":{"0":315,"1":262},"flags":{},"order":14,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":23},{"name":"positive","type":"CONDITIONING","link":24},{"name":"negative","type":"CONDITIONING","link":25},{"name":"latent_image","type":"LATENT","link":26}],"outputs":[{"name":"LATENT","type":"LATENT","links":[27],"shape":3}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[505980549777984,"randomize",30,4.5,"ddpm","karras",1]},{"id":4,"type":"CheckpointLoaderSimple","pos":{"0":100,"1":130},"size":{"0":315,"1":98},"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[35],"shape":3},{"name":"CLIP","type":"CLIP","links":[29,30],"shape":3},{"name":"VAE","type":"VAE","links":[28],"shape":3}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["sdxl\\Juggernaut-XL_v9_RunDiffusionPhoto_v2.safetensors"]},{"id":5,"type":"EmptyLatentImage","pos":{"0":100,"1":358},"size":{"0":315,"1":106},"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"LATENT","type":"LATENT","links":[26],"shape":3}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1536,1]},{"id":11,"type":"InstantIDModelLoader","pos":{"0":100,"1":594},"size":{"0":315,"1":58},"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"INSTANTID","type":"INSTANTID","links":[31],"shape":3}],"properties":{"Node name for S&R":"InstantIDModelLoader"},"widgets_values":["ip-adapter.bin"]},{"id":16,"type":"ControlNetLoader","pos":{"0":100,"1":782},"size":{"0":315,"1":58},"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[33],"shape":3}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["diffusion_pytorch_model.safetensors"]},{"id":38,"type":"InstantIDFaceAnalysis","pos":{"0":100,"1":970},"size":{"0":315,"1":58},"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"FACEANALYSIS","type":"FACEANALYSIS","links":[32],"shape":3}],"properties":{"Node name for S&R":"InstantIDFaceAnalysis"},"widgets_values":["CPU"]},{"id":73,"type":"IPAdapterUnifiedLoader","pos":{"0":1430,"1":130},"size":{"0":315,"1":78},"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":40},{"name":"ipadapter","type":"IPADAPTER","link":null}],"outputs":[{"name":"model","type":"MODEL","links":[41],"shape":3},{"name":"ipadapter","type":"IPADAPTER","links":[38,42],"shape":3}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["PLUS (high strength)"]},{"id":74,"type":"IPAdapterEmbeds","pos":{"0":2260,"1":130},"size":{"0":315,"1":254},"flags":{},"order":13,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":41},{"name":"ipadapter","type":"IPADAPTER","link":42},{"name":"pos_embed","type":"EMBEDS","link":43},{"name":"neg_embed","type":"EMBEDS","link":null},{"name":"attn_mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[23],"shape":3}],"properties":{"Node name for S&R":"IPAdapterEmbeds"},"widgets_values":[0.8,"linear",0,1,"V only"]},{"id":72,"type":"IPAdapterEncoder","pos":{"0":1845,"1":130},"size":{"0":315,"1":118},"flags":{},"order":12,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":38},{"name":"image","type":"IMAGE","link":46},{"name":"mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":null}],"outputs":[{"name":"pos_embed","type":"EMBEDS","links":[43],"shape":3},{"name":"neg_embed","type":"EMBEDS","links":null,"shape":3}],"properties":{"Node name for S&R":"IPAdapterEncoder"},"widgets_values":[1]},{"id":77,"type":"LoadImage","pos":{"0":1043,"1":536},"size":{"0":315,"1":314},"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[45],"shape":3},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Load Image (Face)","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["man.png","image"]},{"id":8,"type":"VAEDecode","pos":{"0":3090,"1":130},"size":{"0":210,"1":46},"flags":{},"order":15,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":27},{"name":"vae","type":"VAE","link":28}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[47],"slot_index":0,"shape":3}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":40,"type":"CLIPTextEncode","pos":{"0":515,"1":460},"size":{"0":400,"1":200},"flags":{},"order":9,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":30}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[37],"shape":3}],"title":"CLIP Text Encode (Negative Prompt)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["photograph, deformed, glitch, noisy, realistic, stock photo"],"color":"#322","bgcolor":"#533"},{"id":39,"type":"CLIPTextEncode","pos":{"0":515,"1":130},"size":{"0":400,"1":200},"flags":{},"order":8,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":29}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[36],"shape":3}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["a tiki god island"],"color":"#232","bgcolor":"#353"},{"id":79,"type":"SaveImage","pos":{"0":1416,"1":529},"size":{"0":587.8602905273438,"1":719.7443237304688},"flags":{},"order":16,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":47}],"outputs":[],"properties":{},"widgets_values":["%date:yyyy-MM-dd%/instant_id/instant_id_ip_adapter__"]},{"id":78,"type":"LoadImage","pos":{"0":2042,"1":554},"size":{"0":315,"1":314},"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[46],"shape":3},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Load Image (Style)","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["king.jpg","image"]},{"id":80,"type":"Note","pos":{"0":-424,"1":168},"size":[358.4895982401255,95.61027262635764],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["\nhttps://github.com/cubiq/ComfyUI_InstantIDSS"],"color":"#432","bgcolor":"#653"},{"id":60,"type":"ApplyInstantID","pos":{"0":1015,"1":130},"size":{"0":315,"1":266},"flags":{},"order":10,"mode":0,"inputs":[{"name":"instantid","type":"INSTANTID","link":31},{"name":"insightface","type":"FACEANALYSIS","link":32},{"name":"control_net","type":"CONTROL_NET","link":33},{"name":"image","type":"IMAGE","link":45},{"name":"model","type":"MODEL","link":35},{"name":"positive","type":"CONDITIONING","link":36},{"name":"negative","type":"CONDITIONING","link":37},{"name":"image_kps","type":"IMAGE","link":null},{"name":"mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[40],"shape":3},{"name":"positive","type":"CONDITIONING","links":[24],"shape":3},{"name":"negative","type":"CONDITIONING","links":[25],"shape":3}],"properties":{"Node name for S&R":"ApplyInstantID"},"widgets_values":[0.8,0,1]}],"links":[[23,74,0,3,0,"MODEL"],[24,60,1,3,1,"CONDITIONING"],[25,60,2,3,2,"CONDITIONING"],[26,5,0,3,3,"LATENT"],[27,3,0,8,0,"LATENT"],[28,4,2,8,1,"VAE"],[29,4,1,39,0,"CLIP"],[30,4,1,40,0,"CLIP"],[31,11,0,60,0,"INSTANTID"],[32,38,0,60,1,"FACEANALYSIS"],[33,16,0,60,2,"CONTROL_NET"],[35,4,0,60,4,"MODEL"],[36,39,0,60,5,"CONDITIONING"],[37,40,0,60,6,"CONDITIONING"],[38,73,1,72,0,"IPADAPTER"],[40,60,0,73,0,"MODEL"],[41,73,0,74,0,"MODEL"],[42,73,1,74,1,"IPADAPTER"],[43,72,0,74,2,"EMBEDS"],[45,77,0,60,3,"IMAGE"],[46,78,0,72,1,"IMAGE"],[47,8,0,79,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.5644739300537782,"offset":[355.7373230824928,19.89419806891359]},"workspace_info":{"id":"5f8d5a71-b74f-4df3-9896-e411bbd90c9f","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}